<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Ular Tangga</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: linear-gradient(45deg, #f093fb 0%, #f5576c 100%);
            padding: 15px;
            border-radius: 10px;
            color: white;
        }
        
        .player-info {
            text-align: center;
        }
        
        .current-player {
            background: rgba(255,255,255,0.2);
            border-radius: 5px;
            padding: 5px;
        }
        
        .board {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            background: #333;
            padding: 5px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .cell {
            aspect-ratio: 1;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            font-size: 12px;
            font-weight: bold;
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .cell:hover {
            transform: scale(1.05);
        }
        
        .snake {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
        }
        
        .ladder {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }
        
        .question {
            background: linear-gradient(45deg, #ffd89b, #19547b);
            color: white;
        }
        
        .player1 {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 12px;
            height: 12px;
            background: #ff4757;
            border-radius: 50%;
            border: 2px solid white;
            z-index: 10;
        }
        
        .player2 {
            position: absolute;
            top: 2px;
            right: 2px;
            width: 12px;
            height: 12px;
            background: #3742fa;
            border-radius: 50%;
            border: 2px solid white;
            z-index: 10;
        }
        
        .dice-container {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .dice {
            font-size: 3em;
            margin: 0 10px;
            background: linear-gradient(45deg, #ffecd2, #fcb69f);
            border-radius: 10px;
            padding: 10px;
            display: inline-block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .roll-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 25px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .roll-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0,0,0,0.3);
        }
        
        .roll-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .message {
            text-align: center;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-weight: bold;
        }
        
        .winner {
            background: linear-gradient(45deg, #56ab2f, #a8e6cf);
            color: white;
            font-size: 1.2em;
        }
        
        .move-message {
            background: linear-gradient(45deg, #ffecd2, #fcb69f);
            color: #333;
        }
        
        .reset-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            border-radius: 20px;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }
        
        .reset-btn:hover {
            transform: translateY(-2px);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üêç Ular Tangga ü™ú</h1>
        
        <div class="game-info">
            <div class="player-info" id="player1-info">
                <div>üî¥ Pemain 1</div>
                <div>Posisi: <span id="player1-pos">1</span></div>
            </div>
            <div class="player-info" id="player2-info">
                <div>üîµ Pemain 2</div>
                <div>Posisi: <span id="player2-pos">1</span></div>
            </div>
        </div>
        
        <div class="board" id="board"></div>
        
        <div class="dice-container">
            <div class="dice" id="dice">üé≤</div>
            <br>
            <button class="roll-btn" id="rollBtn" onclick="rollDice()">Lempar Dadu</button>
            <button class="reset-btn" onclick="resetGame()">Reset Game</button>
        </div>
        
        <div class="message" id="message">Giliran Pemain 1 - Lempar dadu!</div>
    </div>

    <script>
        // Konfigurasi game
        const BOARD_SIZE = 100;
        let currentPlayer = 1;
        let player1Pos = 1;
        let player2Pos = 1;
        let gameEnded = false;

        // Bank soal hidrokarbon
        const questions = [
            "Apa yang dimaksud dengan hidrokarbon dan sebutkan jenis-jenis utamanya?",
            "Jelaskan sifat fisik dan kimia dari alkana serta cara penamaannya.",
            "Sebutkan dan jelaskan salah satu reaksi penting dari alkana.",
            "Apa perbedaan utama antara alkena dan alkana dalam struktur dan sifatnya?",
            "Jelaskan reaksi adisi yang terjadi pada alkena.",
            "Apa ciri khas dari alkuna dan bagaimana cara menamainya?",
            "Tuliskan nama senyawa CH3-CH2-CH3!",
            "Jelaskan reaksi adisi hidrogen pada alkuna.",
            "Apa yang dimaksud dengan isomer pada hidrokarbon? Berikan contohnya.",
            "Apa jenis reaksi khas alkana?",
            "Apa jenis reaksi khas alkena?",
            "Apa jenis reaksi khas alkuna?",
            "Apa jenis reaksi khas benzena?",
            "Tuliskan reaksi pembakaran sempurna metana!",
            "Tuliskan reaksi pembakaran sempurna etuna!",
            "Tuliskan reaksi adisi HBr pada etena!",
            "Tuliskan reaksi substitusi klorin pada metana!",
            "Sebutkan sifat fisik umum alkana!",
            "Sebutkan sifat benzena!",
            "Sebutkan salah satu kegunaan hidrokarbon dalam kehidupan sehari-hari."
        ];

        // Generate 20 kolom acak untuk pertanyaan (hindari kotak 1 dan 100)
        let questionCells = [];
        while (questionCells.length < 20) {
            const randomCell = Math.floor(Math.random() * 98) + 2; // 2-99
            if (!questionCells.includes(randomCell)) {
                questionCells.push(randomCell);
            }
        }

        // Definisi ular dan tangga (FIXED POSITIONS)
        // Format: {posisi_awal: posisi_tujuan}
        
        // Ular - akan menurunkan posisi
        const snakes = {
            16: 6,   // Dari kotak 16 turun ke kotak 6
            47: 26,  // Dari kotak 47 turun ke kotak 26
            49: 11,  // Dari kotak 49 turun ke kotak 11
            56: 53,  // Dari kotak 56 turun ke kotak 53
            62: 19,  // Dari kotak 62 turun ke kotak 19
            64: 60,  // Dari kotak 64 turun ke kotak 60
            87: 24,  // Dari kotak 87 turun ke kotak 24
            93: 73,  // Dari kotak 93 turun ke kotak 73
            95: 75,  // Dari kotak 95 turun ke kotak 75
            98: 78   // Dari kotak 98 turun ke kotak 78
        };

        // Tangga - akan menaikkan posisi
        const ladders = {
            1: 38,   // Dari kotak 1 naik ke kotak 38
            4: 14,   // Dari kotak 4 naik ke kotak 14
            9: 21,   // Dari kotak 9 naik ke kotak 21
            21: 42,  // Dari kotak 21 naik ke kotak 42
            28: 84,  // Dari kotak 28 naik ke kotak 84
            36: 44,  // Dari kotak 36 naik ke kotak 44
            51: 67,  // Dari kotak 51 naik ke kotak 67
            71: 91,  // Dari kotak 71 naik ke kotak 91
            80: 100  // Dari kotak 80 naik ke kotak 100 (MENANG!)
        };

        // Fungsi untuk membuat papan
        function createBoard() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            
            for (let i = BOARD_SIZE; i >= 1; i--) {
                const cell = document.createElement('div');
                cell.className = 'cell';
                cell.id = `cell-${i}`;
                
                // Tentukan posisi berdasarkan baris (zigzag pattern)
                const row = Math.ceil(i / 10);
                const col = i % 10 === 0 ? 10 : i % 10;
                const isEvenRow = row % 2 === 0;
                
                if (isEvenRow) {
                    cell.style.order = (row - 1) * 10 + (11 - col);
                } else {
                    cell.style.order = (row - 1) * 10 + col;
                }
                
                // Tambah nomor sel
                cell.innerHTML = i;
                
                // Tandai ular dan tangga
                if (snakes[i]) {
                    cell.classList.add('snake');
                    cell.innerHTML += ' üêç';
                }
                if (ladders[i]) {
                    cell.classList.add('ladder');
                    cell.innerHTML += ' ü™ú';
                }
                
                // Tandai kolom pertanyaan
                if (questionCells.includes(i)) {
                    cell.classList.add('question');
                    cell.innerHTML += ' ‚ùì';
                }
                
                board.appendChild(cell);
            }
            
            updatePlayerPositions();
        }

        // Fungsi untuk update posisi pemain
        function updatePlayerPositions() {
            // Hapus semua pemain dari papan
            document.querySelectorAll('.player1, .player2').forEach(p => p.remove());
            
            // Tambah pemain 1
            const cell1 = document.getElementById(`cell-${player1Pos}`);
            const p1Marker = document.createElement('div');
            p1Marker.className = 'player1';
            cell1.appendChild(p1Marker);
            
            // Tambah pemain 2
            const cell2 = document.getElementById(`cell-${player2Pos}`);
            const p2Marker = document.createElement('div');
            p2Marker.className = 'player2';
            cell2.appendChild(p2Marker);
            
            // Update info pemain
            document.getElementById('player1-pos').textContent = player1Pos;
            document.getElementById('player2-pos').textContent = player2Pos;
            
            // Highlight pemain aktif
            document.getElementById('player1-info').classList.toggle('current-player', currentPlayer === 1);
            document.getElementById('player2-info').classList.toggle('current-player', currentPlayer === 2);
        }

        // Fungsi lempar dadu
        function rollDice() {
            if (gameEnded) return;
            
            const dice = Math.floor(Math.random() * 6) + 1;
            document.getElementById('dice').textContent = dice;
            
            // Disable tombol sementara
            document.getElementById('rollBtn').disabled = true;
            
            setTimeout(() => {
                movePlayer(dice);
                document.getElementById('rollBtn').disabled = false;
            }, 500);
        }

        // Fungsi gerakkan pemain
        function movePlayer(diceValue) {
            let currentPos = currentPlayer === 1 ? player1Pos : player2Pos;
            let newPos = currentPos + diceValue;
            
            // Cek jika melewati 100
            if (newPos > 100) {
                newPos = 100 - (newPos - 100);
            }
            
            // Update posisi
            if (currentPlayer === 1) {
                player1Pos = newPos;
            } else {
                player2Pos = newPos;
            }
            
            let message = `Pemain ${currentPlayer} mendapat ${diceValue}! `;
            
            // CEK PERTANYAAN DULU sebelum ular/tangga
            let hasQuestion = questionCells.includes(newPos);
            let questionToShow = null;
            if (hasQuestion) {
                const questionIndex = questionCells.indexOf(newPos);
                questionToShow = questions[questionIndex];
                message += `Mendapat pertanyaan! `;
            }
            
            // Cek ular
            if (snakes[newPos]) {
                const snakeEnd = snakes[newPos];
                if (currentPlayer === 1) {
                    player1Pos = snakeEnd;
                } else {
                    player2Pos = snakeEnd;
                }
                message += `Oops! Kena ular! Turun ke ${snakeEnd}`;
                newPos = snakeEnd;
            }
            // Cek tangga
            else if (ladders[newPos]) {
                const ladderEnd = ladders[newPos];
                if (currentPlayer === 1) {
                    player1Pos = ladderEnd;
                } else {
                    player2Pos = ladderEnd;
                }
                message += `Beruntung! Naik tangga ke ${ladderEnd}!`;
                newPos = ladderEnd;
            } else {
                message += `Pindah ke ${newPos}`;
            }
            
            updatePlayerPositions();
            
            // Tampilkan pertanyaan setelah update posisi
            if (questionToShow) {
                showQuestion(questionToShow);
            }
            
            // Cek pemenang
            if (newPos === 100) {
                message = `üéâ Pemain ${currentPlayer} MENANG! üéâ`;
                document.getElementById('message').className = 'message winner';
                gameEnded = true;
            } else {
                // Ganti pemain
                currentPlayer = currentPlayer === 1 ? 2 : 1;
                message += `\nGiliran Pemain ${currentPlayer}`;
                document.getElementById('message').className = 'message move-message';
            }
            
            document.getElementById('message').textContent = message;
        }
        
        // Fungsi untuk menampilkan pertanyaan
        function showQuestion(question) {
            setTimeout(() => {
                alert(`ü§î CIHUYY DAPAT PERTANYAAN üß™\n\n${question}`);
            }, 800);
        }

        // Fungsi reset game
        function resetGame() {
            player1Pos = 1;
            player2Pos = 1;
            currentPlayer = 1;
            gameEnded = false;
            document.getElementById('dice').textContent = 'üé≤';
            document.getElementById('message').textContent = 'Giliran Pemain 1 - Lempar dadu!';
            document.getElementById('message').className = 'message';
            updatePlayerPositions();
        }

        // Inisialisasi game
        createBoard();
    </script>
</body>
</html>